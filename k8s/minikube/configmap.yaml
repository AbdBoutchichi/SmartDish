apiVersion: v1
kind: ConfigMap
metadata:
  name: ms-utilisateur-config
  labels:
    app: ms-utilisateur
data:
  # Server Configuration
  SERVER_PORT: "8080"

  # MySQL Configuration
  MYSQL_HOST: "mysql"
  MYSQL_PORT: "3306"
  MYSQL_DATABASE: "soa_db"
  MYSQL_USERNAME: "root"
  # MYSQL_PASSWORD moved to secret.yaml

  # Spring Datasource Configuration
  SPRING_DATASOURCE_URL: "jdbc:mysql://mysql:3306/soa_db?allowPublicKeyRetrieval=true&useSSL=false&createDatabaseIfNotExist=true"
  SPRING_DATASOURCE_USERNAME: "root"
  # SPRING_DATASOURCE_PASSWORD moved to secret.yaml
  SPRING_DATASOURCE_DRIVER_CLASS_NAME: "com.mysql.cj.jdbc.Driver"

  # MS-Persistance Configuration
  PERSISTANCE_SERVICE_URL: "http://ms-persistance:8080"

  # JWT Configuration
  # JWT_SECRET moved to secret.yaml for security
  JWT_EXPIRATION: "86400000"

  # JPA/Hibernate Configuration
  SPRING_JPA_HIBERNATE_DDL_AUTO: "update"
  SPRING_JPA_SHOW_SQL: "true"
  SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL: "true"
  SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT: "org.hibernate.dialect.MySQLDialect"
  JPA_DDL_AUTO: "update"
  JPA_SHOW_SQL: "true"
  JPA_FORMAT_SQL: "true"
  JPA_USE_SQL_COMMENTS: "false"

  # Logging Configuration
  LOG_LEVEL_ROOT: "INFO"
  LOG_LEVEL_JDBC: "DEBUG"
  LOG_LEVEL_HIBERNATE_SQL: "INFO"
  LOG_LEVEL_HIBERNATE_BINDER: "INFO"

  # Actuator Configuration
  ACTUATOR_ENDPOINTS: "health,info,metrics"
  ACTUATOR_HEALTH_DETAILS: "always"

  # Spring Profile
  SPRING_PROFILES_ACTIVE: "dev"

