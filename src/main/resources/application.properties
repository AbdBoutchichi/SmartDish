spring.application.name=ms-persistance

# ========================================
# SERVER CONFIGURATION
# ========================================
server.port=${SERVER_PORT}

# ========================================
# MYSQL DATASOURCE CONFIGURATION
# ========================================
spring.datasource.url=jdbc:mysql://127.0.0.1:${MYSQL_PORT}/${MYSQL_DATABASE}?allowPublicKeyRetrieval=true&useSSL=false&createDatabaseIfNotExist=true
spring.datasource.username=${MYSQL_USERNAME}
spring.datasource.password=${MYSQL_ROOT_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ========================================
# JPA/HIBERNATE CONFIGURATION
# ========================================
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO}
spring.jpa.show-sql=${JPA_SHOW_SQL}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL}
spring.jpa.properties.hibernate.use_sql_comments=${JPA_USE_SQL_COMMENTS}

# ========================================
# LOGGING CONFIGURATION
# ========================================
logging.level.org.springframework.jdbc=${LOG_LEVEL_JDBC}
logging.level.org.hibernate.SQL=${LOG_LEVEL_HIBERNATE_SQL}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOG_LEVEL_HIBERNATE_BINDER}
logging.level.com.springbootTemplate.univ.soa=DEBUG

# ========================================
# ACTUATOR CONFIGURATION
# ========================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# ========================================
# SPRINGDOC OPENAPI (SWAGGER) CONFIGURATION
# ========================================
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.api-docs.path=/api-docs
springdoc.packages-to-scan=com.springbootTemplate.univ.soa.controller
springdoc.show-actuator=false
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.groups-order=ASC

# ========================================
# MINIO CONFIGURATION
# ========================================
minio.endpoint=http://localhost:${MINIO_API_PORT:9000}
minio.access-key=${MINIO_ROOT_USER}
minio.secret-key=${MINIO_ROOT_PASSWORD}
minio.bucket.recettes=recettes-bucket
minio.bucket.documents=documents-bucket

# ========================================
# FILE UPLOAD CONFIGURATION
# ========================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
